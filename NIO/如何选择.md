# 各种I/O模型选择

具体选择什么样的模型或者NIO框架，完全基于业务的实际应用场景和性能需求，如果客户端很少，服务器负荷不重，就没有必要选择开发起来相对不那么简单的NIO做服务端；

相反，就应考虑使用NIO或者相关的框架了。

I/O操作：I/O请求和实际I/O操作，发起IO请求和实际的IO操作。

>同步和异步是针对应用程序和内核的交互而言的。

 >ut the operating system to help you finish the IO operation and return the results to you, It is the asynchronous IO. 

BIO: 同步阻塞I/O,最常使用的一种方法，使用也是最简单的，但是I/O性能一般很差，CPU大部分是空闲状态。。

吞吐量比较低，编码简单

## NIO
同步非阻塞I/O,种方式通常能提升I/O 性能，但是会增加CPU 消耗，要考虑增加的 I/O 性能能不能补偿 CPU 的消耗，也就是系统的瓶颈是在 I/O 还是在 CPU 上。


吞吐量比较高，编码复杂

## AIO
异步非阻塞：这种组合方式用起来比较复杂，只有在一些**非常复杂的分布式情况下使用**，像集群之间的消息同步机制一般用这种 I/O 组合方式。如 Cassandra 的 Gossip 通信机制就是采用异步非阻塞的方式。

此种方式下是指应用发起一个IO操作以后，等内核完成IO操作以后会通知应用程序。

它适合同时要传多份相同的数据到集群中不同的机器，同时数据的传输量虽然不大，但是却非常频繁。这种网络 I/O 用这个方式性能能达到最高。
> 比如MySLQ的主从复制模式就是采用该种方式的情况

吞吐量比较高，编码比NIO简单

它们都由JDK底层的线程池负责回调并驱动读写操作。

## MySQL的非阻塞模式

I/O线程在主库写入Binlog日志后即可成功返回客户端OK，无需等待Binlog日志传送给从库。在一段时间内MySQL主服务器会将写入的数据发送给MySQL从服务器，在这段时间之内，从服务器的数据可能会和主服务不一致，一旦主库宕机，有可能会丢失日志。


数据的发送具体由底层的操作系统来完成，主库可以当做服务器，从库当中客户

[MySQL主从复制：半同步、异步](https://my.oschina.net/u/3412738/blog/1801192)

[搞清楚什么情况下使用AIO,NIO,BIO等情况](http://www.apigo.cn/2018/11/09/javacore5/)

# 另一个版本的区别

1. NIO方式适用于连接数目多且连接比较短（轻操作）的架构，比如聊天服务器，并发局限于应用中，编程比较复杂，JDK1.4开始支持。 
2. AIO方式使用于连接数目多且连接比较长（重操作）的架构，比如相册服务器，充分调用OS参与并发操作，编程比较复杂，JDK7开始支持。 