# innodb当中的事务是如何是实现的？

其中，一致性，是基础，事务的原子性，持久性，隔离性就是为了保证一致性而存在的情况，所以我们主要是如何实现原子性、隔离性、持久性




1. 重做日志redo log 保证持久性，物理日志，checkout point 进行崩溃恢复功能，实现持久性
2. undo log ,逻辑日志， 实现rollback 和mvcc ，实现原子性
3. 锁机制实现事务的隔离性，主要是介绍下事务的四种隔离级别和各种锁机制即可


逻辑日志：记录SQL语句

物理日志：记录的是对于每个页的修改，每执行一次修改数据库数据，我们都要写一次日志文件

## 重做日志
1. 内存中的重做日志缓冲，每一个sql 语句都重写一个redo log 到重做日志缓冲区，在最后要进行commit的时候，再讲事务的所有日志写入到磁盘当中的重做日志文件，进行持久化机制设置
2. 磁盘当中的重做日志文件

>一看有内存和磁盘上的两个对应文件，我们就知道这样做一定是为了效率考虑，因为内存的读写效率要比磁盘读写效率高太多。

log block 512字节，跟磁盘扇区一样大小，这样就保证原子性，无序double write 技术




[InnoDB事务实现原理](https://cloud.tencent.com/developer/news/338659)


[InnoDB存储引擎事务的ACID特性](http://benjaminwhx.com/2018/04/25/%E8%B0%88%E8%B0%88MySQL-InnoDB%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E4%BA%8B%E5%8A%A1%E7%9A%84ACID%E7%89%B9%E6%80%A7/)

[MySQL事务日志(redo log和undo log)](https://juejin.im/entry/5ba0a254e51d450e735e4a1f)

# 事务的隔离性
